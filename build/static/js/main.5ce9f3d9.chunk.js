(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),c=n.n(l),u=n(12),i=n(2),o=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1];return r.a.createElement("div",null,r.a.createElement("h4",null,"Thread:"),r.a.createElement("button",{onClick:function(){return e.deleteThread(e.id)}}," delete "),r.a.createElement("p",null,"Title: ",e.title),r.a.createElement("p",null,"Message: ",e.message),r.a.createElement("form",null,r.a.createElement("div",null,"new message",r.a.createElement("input",{value:l,onChange:function(e){c(e.target.value)}})),r.a.createElement("button",{onClick:function(){return e.editThread(e.id,l)}}," edit ")))},d=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Add new thread"),r.a.createElement("form",{onSubmit:e.addNewThread},r.a.createElement("div",null,"title:",r.a.createElement("input",{value:e.newTitle,onChange:function(t){e.setNewTitle(t.target.value)}})),r.a.createElement("div",null,"message:",r.a.createElement("input",{value:e.newMessage,onChange:function(t){e.setNewMessage(t.target.value)}})),r.a.createElement("button",{type:"submit"},"add")))},s=n(3),m=n.n(s),f=function(){return console.log("yrite\xe4\xe4n saada yhteys"),m.a.get("/threads").then(function(e){return e.data})},h=function(e){return m.a.post("/threads",e).then(function(e){return e.data})},g=function(e){return m.a.put("".concat("/threads","/").concat(e.id),e).then(function(e){return e.data})},E=function(e){return m.a.delete("".concat("/threads","/").concat(e)).then(function(e){return e.data})},w=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),m=s[0],w=s[1],p=Object(a.useState)(""),v=Object(i.a)(p,2),b=v[0],T=v[1];Object(a.useEffect)(function(){f().then(function(e){l(e),console.log("hiphei"),console.log(n)}).catch(function(e){console.log("error",e)})},[]);var O=function(e){E(e).then(function(){l(n.filter(function(t){return t.id!==e}))})},j=function(e,t){var a=n.find(function(t){return t.id===e}),r=Object(u.a)({},a,{message:t});g(r).then(function(e){l(n.map(function(t){return t.id!==r.id?t:e}))})};return r.a.createElement("div",null,r.a.createElement("h2",null,"Campus24"),r.a.createElement("h3",null,"Threads"),r.a.createElement("ul",null,(console.log("rows ",n),n.map(function(e){return r.a.createElement(o,{key:e.id,id:e.id,title:e.title,message:e.message,deleteThread:O,editThread:j})}))),r.a.createElement(d,{addNewThread:function(e){e.preventDefault();var t={title:m,message:b,date:(new Date).toISOString(),id:Math.floor(1e4*Math.random())};w(""),T(""),h(t).then(function(e){l(n.concat(e))})},setNewTitle:w,setNewMessage:T,newTitle:m,newMessage:b}))};c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5ce9f3d9.chunk.js.map